function prepareTitleTemplate(titleText){var template=_.template($("#title-template").html());return template({title:titleText})}var HomeView=Backbone.View.extend({el:"#main-container",initialize:function(){console.log("HomeView is initialized."),this.html=$("#home-template").html()},render:function(){return console.log("HomeView's render function is firing"),this.$el.html(this.html)}}),WorkView=Backbone.View.extend({el:"#main-container",template:_.template($("#work-template").html()),initialize:function(){console.log("WorkView is initialized"),this.projects=[{media:'<a href="http://insightjournal.us"><div class="work-media" id="insight-journal-sprite"><p>InsightJournal</p><div class="overlay"><p>+</p></div></div></a>',title:"InsightJournal",role:"Web Developer",description:"The private online journaling tool that grows to know you through sentiment analysis and usage patterns."},{media:'<a href="http://metapinger.herokuapp.com/"><div class="work-media" id="metapinger-sprite"><p>MetaPinger</p><div class="overlay"><p>+</p></div></div></a>',title:"MetaPinger",role:"Web Developer",description:"Heroku's servers are famous for idling, so I built a Heroku app that pings Heroku apps (including itself) at 10 minute intervals, ensuring perpetual wakefulness."},{media:'<a href="https://github.com/vanderhoop/battleroom"><div class="work-media" id="battleroom-sprite"><p>Battleroom</p><div class="overlay"><p>+</p></div></div></a>',title:"The Battleroom Gem",role:"Benevolent Dictator for Life",description:"A command line tool designed to give Ruby newbies countless reps doing simple tasks like working with variables, manipulating data structures, and defining and invoking methods."}],this.titleHTML=prepareTitleTemplate("Work"),this.workHTML=this.template({projects:this.projects})},render:function(){return console.log("Workview render function is firing"),this.$el.html(this.titleHTML+this.workHTML)}}),ContactView=Backbone.View.extend({el:"#main-container",initialize:function(){this.titleHTML=prepareTitleTemplate("Contact"),this.contactHTML=$("#contact-template").html()},render:function(){return console.log("ContactView Render function fires"),this.$el.html(this.titleHTML+this.contactHTML)}}),body=$("html, body"),Router=Backbone.Router.extend({routes:{home:"home",work:"work",contact:"contact","*default":"home"},initialize:function(){this.mainContainer=$("#main-container"),this.contactView=new ContactView,this.homeView=new HomeView,this.workView=new WorkView},home:function(){var routerInstance=this;this.mainContainer.css("opacity",0);var timeoutID1=setTimeout(function(){body.scrollTop(0),routerInstance.mainContainer.css("display","none"),routerInstance.homeView.render().css("display","block").css("opacity",1),clearTimeout(timeoutID1)},600)},work:function(){var routerInstance=this;this.mainContainer.css("opacity",0);var timeoutID2=setTimeout(function(){body.scrollTop(0),routerInstance.mainContainer.css("display","none"),routerInstance.workView.render().css("display","block").css("opacity",1),clearTimeout(timeoutID2)},600)},contact:function(){var routerInstance=this;this.mainContainer.css("opacity",0);var timeoutID3=setTimeout(function(){body.scrollTop(0),routerInstance.mainContainer.css("display","none"),routerInstance.contactView.render().css("display","block").css("opacity",1),clearTimeout(timeoutID3)},600)}});$(document).ready(function(){$("img").one("load",function(){console.log("home photo loaded");var app={};app.router=new Router,Backbone.history.start(),$("#home-nav").on("click",function(){app.router.navigate("home",{trigger:!0})}),$("#contact-nav").on("click",function(){app.router.navigate("contact",{trigger:!0})}),$("#work-nav").on("click",function(){app.router.navigate("work",{trigger:!0})}),app.router.navigate("home",{trigger:!0})}).each(function(){this.complete&&$(this).load()})});